(function(e){function t(t){for(var r,a,i=t[0],s=t[1],u=t[2],d=0,l=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&l.push(c[a][0]),c[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);h&&h(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},c={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-13a1f17a":"f72cadae","chunk-3fbcdb4e":"29a50933","chunk-533f0165":"dc30e419","chunk-d9004914":"9296b125"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-13a1f17a":1,"chunk-533f0165":1,"chunk-d9004914":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-13a1f17a":"3786e166","chunk-3fbcdb4e":"31d6cfe0","chunk-533f0165":"4d5d535b","chunk-d9004914":"21766df2"}[e]+".css",c=s.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===c))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],d=u.getAttribute("data-href");if(d===r||d===c)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],h.parentNode.removeChild(h),n(o)},h.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}c[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var h=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cbe":function(e,t,n){"use strict";n("de99")},"0dac":function(e,t,n){"use strict";n("ac19")},"1a2f":function(e,t,n){},"1f1c":function(e,t,n){},"256c":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["J"])("data-v-5a857c89");Object(r["u"])("data-v-5a857c89");var c={class:"card"};Object(r["s"])();var o=a((function(e,t,n,a,o,i){return Object(r["r"])(),Object(r["e"])("div",c,[Object(r["y"])(e.$slots,"default")])})),i={};n("0dac");i.render=o,i.__scopeId="data-v-5a857c89";t["a"]=i},2904:function(e,t,n){"use strict";n("5a85")},"2acf":function(e,t,n){},"3ec8":function(e,t,n){"use strict";n("cf1f")},"452b":function(e,t,n){"use strict";n("2acf")},4578:function(e,t,n){"use strict";n("4e88")},"4d68":function(e,t,n){},"4e88":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("7a23");function a(e,t,n,a,c,o){var i=Object(r["z"])("the-header"),s=Object(r["z"])("router-view");return Object(r["r"])(),Object(r["e"])(r["a"],null,[Object(r["h"])(i),Object(r["h"])(s)],64)}n("5319"),n("ac1f");var c=Object(r["J"])("data-v-0fa4ddaa");Object(r["u"])("data-v-0fa4ddaa");var o=Object(r["g"])("Find a Coach"),i=Object(r["g"])("All Coaches"),s={key:0},u=Object(r["g"])("Requests"),d={key:1},l=Object(r["g"])("Sign In"),h={key:2},f=Object(r["g"])("Sign Out");Object(r["s"])();var b=c((function(e,t,n,a,b,p){var O=Object(r["z"])("router-link"),j=Object(r["z"])("base-button");return Object(r["r"])(),Object(r["e"])("header",null,[Object(r["h"])("nav",null,[Object(r["h"])("h1",null,[Object(r["h"])(O,{to:"/"},{default:c((function(){return[o]})),_:1})]),Object(r["h"])("ul",null,[Object(r["h"])("li",null,[Object(r["h"])(O,{to:"/coaches"},{default:c((function(){return[i]})),_:1})]),p.isSignedIn?(Object(r["r"])(),Object(r["e"])("li",s,[Object(r["h"])(O,{to:"/requests"},{default:c((function(){return[u]})),_:1})])):(Object(r["r"])(),Object(r["e"])("li",d,[Object(r["h"])(O,{to:"/auth"},{default:c((function(){return[l]})),_:1})])),p.isSignedIn?(Object(r["r"])(),Object(r["e"])("li",h,[Object(r["h"])(j,{onClick:p.signOut},{default:c((function(){return[f]})),_:1},8,["onClick"])])):Object(r["f"])("",!0)])])])})),p={methods:{signOut:function(){this.$store.dispatch("signout"),this.$router.replace("/coaches")}},computed:{isSignedIn:function(){return this.$store.getters.isAuthenticated}}};n("c1ea");p.render=b,p.__scopeId="data-v-0fa4ddaa";var O=p,j={components:{TheHeader:O},computed:{verifiedAutoSignout:function(){return this.$store.getters.verifiedAutoSignout}},created:function(){this.$store.dispatch("autoSignin")},watch:{verifiedAutoSignout:function(e,t){e&&e!==t&&this.$router.replace("/coaches")}}};n("4578");j.render=a;var m=j,g=n("6c02"),v=Object(r["J"])("data-v-3ab5e33f");Object(r["u"])("data-v-3ab5e33f");var k={class:"controls"},w=Object(r["g"])("Refresh"),y=Object(r["g"])(" Sign Up to Register as a Coach "),I=Object(r["g"])(" Register as a Coach "),C={key:0},S={key:1},x={key:2};Object(r["s"])();var _=v((function(e,t,n,a,c,o){var i=Object(r["z"])("base-dialog"),s=Object(r["z"])("coach-filter"),u=Object(r["z"])("base-button"),d=Object(r["z"])("base-spinner"),l=Object(r["z"])("coach-item"),h=Object(r["z"])("base-card");return Object(r["r"])(),Object(r["e"])(r["a"],null,[Object(r["h"])(i,{show:!!c.error,title:"Application Error",onClose:o.handleError},{default:v((function(){return[Object(r["h"])("p",null,Object(r["B"])(c.error),1)]})),_:1},8,["show","onClose"]),Object(r["h"])("section",null,[Object(r["h"])(s,{onChangeFilter:o.setFilter},null,8,["onChangeFilter"])]),Object(r["h"])("section",null,[Object(r["h"])(h,null,{default:v((function(){return[Object(r["h"])("div",k,[Object(r["h"])(u,{mode:"outline",onClick:t[1]||(t[1]=function(e){return o.loadCoaches(!0)})},{default:v((function(){return[w]})),_:1}),o.isSignedIn?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])(u,{key:0,link:"",to:"/auth?redirect=register"},{default:v((function(){return[y]})),_:1})),o.isCoach||c.isLoading||!o.isSignedIn?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])(u,{key:1,link:"",to:"/register"},{default:v((function(){return[I]})),_:1}))]),c.isLoading?(Object(r["r"])(),Object(r["e"])("div",C,[Object(r["h"])(d)])):o.hasCoaches&&!c.isLoading?(Object(r["r"])(),Object(r["e"])("ul",S,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(o.filteredCoaches,(function(e){return Object(r["r"])(),Object(r["e"])(l,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"])})),128))])):(Object(r["r"])(),Object(r["e"])("h3",x,"No coaches found."))]})),_:1})])],64)})),R=n("1da1"),q=(n("4de4"),n("caad"),n("2532"),n("96cf"),Object(r["J"])("data-v-c3e9df66"));Object(r["u"])("data-v-c3e9df66");var F={class:"actions"},E=Object(r["g"])("Contact"),A=Object(r["g"])("View Details");Object(r["s"])();var N=q((function(e,t,n,a,c,o){var i=Object(r["z"])("base-badge"),s=Object(r["z"])("base-button");return Object(r["r"])(),Object(r["e"])("ul",null,[Object(r["h"])("li",null,[Object(r["h"])("h3",null,Object(r["B"])(o.fullName),1),Object(r["h"])("h4",null,"$"+Object(r["B"])(n.rate)+"/hour",1),Object(r["h"])("div",null,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(n.areas,(function(e){return Object(r["r"])(),Object(r["e"])(i,{key:e,type:e,title:e},null,8,["type","title"])})),128))]),Object(r["h"])("div",F,[Object(r["h"])(s,{mode:"outline",link:"",to:o.coachContactLink},{default:q((function(){return[E]})),_:1},8,["to"]),Object(r["h"])(s,{link:"",to:o.coachDetailLink},{default:q((function(){return[A]})),_:1},8,["to"])])])])})),z=n("e7f5"),L={components:{BaseBadge:z["a"]},props:["id","firstName","lastName","rate","areas"],computed:{fullName:function(){return this.firstName+" "+this.lastName},coachContactLink:function(){return this.$route.path+"/"+this.id+"/contact"},coachDetailLink:function(){return this.$route.path+"/"+this.id}}};n("aad2");L.render=N,L.__scopeId="data-v-c3e9df66";var T=L,$=Object(r["J"])("data-v-9b123c8a");Object(r["u"])("data-v-9b123c8a");var B=Object(r["h"])("h2",null,"Find a Coach",-1),J={class:"filter-option"},P=Object(r["h"])("label",{for:"frontend"},"Front End",-1),U={class:"filter-option"},M=Object(r["h"])("label",{for:"backend"},"Back End",-1),V={class:"filter-option"},G=Object(r["h"])("label",{for:"career"},"Career",-1);Object(r["s"])();var D=$((function(e,t,n,a,c,o){var i=Object(r["z"])("base-card");return Object(r["r"])(),Object(r["e"])(i,null,{default:$((function(){return[B,Object(r["h"])("span",J,[Object(r["h"])("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[1]||(t[1]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,32),P]),Object(r["h"])("span",U,[Object(r["h"])("input",{type:"checkbox",id:"backend",checked:"",onChange:t[2]||(t[2]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,32),M]),Object(r["h"])("span",V,[Object(r["h"])("input",{type:"checkbox",id:"career",checked:"",onChange:t[3]||(t[3]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,32),G])]})),_:1})})),H=n("ade3"),Q=n("5530"),K={emits:["change-filter"],data:function(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter:function(e){var t=e.target.id,n=e.target.checked,r=Object(Q["a"])(Object(Q["a"])({},this.filters),{},Object(H["a"])({},t,n));this.filters=r,this.$emit("change-filter",r)}}};n("452b");K.render=D,K.__scopeId="data-v-9b123c8a";var W=K,Y={components:{CoachItem:T,CoachFilter:W},data:function(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter:function(e){this.activeFilters=e},loadCoaches:function(){var e=arguments,t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],t.isLoading=!0,n.prev=2,n.next=5,t.$store.dispatch("coaches/loadCoaches",{forceRefresh:r});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),t.error=n.t0.message||"Something went wrong.";case 10:t.isLoading=!1;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()},handleError:function(){this.error=null}},computed:{hasCoaches:function(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]},filteredCoaches:function(){var e=this,t=this.$store.getters["coaches/coaches"];return t.filter((function(t){return!(!e.activeFilters.frontend||!t.areas.includes("frontend"))||(!(!e.activeFilters.backend||!t.areas.includes("backend"))||!(!e.activeFilters.career||!t.areas.includes("career")))}))},isCoach:function(){return this.$store.getters["coaches/isCoach"]},isSignedIn:function(){return this.$store.getters.isAuthenticated}},created:function(){this.loadCoaches()}};n("d6e9");Y.render=_,Y.__scopeId="data-v-3ab5e33f";var X=Y,Z=Object(r["J"])("data-v-1cae0a50");Object(r["u"])("data-v-1cae0a50");var ee=Object(r["h"])("header",null,[Object(r["h"])("h2",null,"Recieved Requests")],-1),te={key:0},ne={key:1},re={key:2};Object(r["s"])();var ae=Z((function(e,t,n,a,c,o){var i=Object(r["z"])("base-dialog"),s=Object(r["z"])("base-spinner"),u=Object(r["z"])("request-item"),d=Object(r["z"])("base-card");return Object(r["r"])(),Object(r["e"])(r["a"],null,[Object(r["h"])(i,{show:!!c.error,title:"Application Error",onClose:o.handleError},{default:Z((function(){return[Object(r["h"])("p",null,Object(r["B"])(c.error),1)]})),_:1},8,["show","onClose"]),Object(r["h"])("section",null,[Object(r["h"])(d,null,{default:Z((function(){return[ee,c.isLoading?(Object(r["r"])(),Object(r["e"])("div",te,[Object(r["h"])(s)])):o.hasRequests&&!c.isLoading?(Object(r["r"])(),Object(r["e"])("ul",ne,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(o.receivedRequests,(function(e){return Object(r["r"])(),Object(r["e"])(u,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])})),128))])):(Object(r["r"])(),Object(r["e"])("h3",re,"You have not received any requests yet."))]})),_:1})])],64)})),ce=Object(r["J"])("data-v-06f3ec28"),oe=ce((function(e,t,n,a,c,o){return Object(r["r"])(),Object(r["e"])("ul",null,[Object(r["h"])("li",null,[Object(r["h"])("div",null,[Object(r["h"])("a",{href:o.emailLink},Object(r["B"])(n.email),9,["href"])]),Object(r["h"])("p",null,Object(r["B"])(n.message),1)])])})),ie={props:["email","message"],computed:{emailLink:function(){return"mailto:"+this.email}}};n("adfa");ie.render=oe,ie.__scopeId="data-v-06f3ec28";var se=ie,ue={components:{RequestItem:se},data:function(){return{isLoading:!1,error:null}},methods:{loadRequests:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("requests/fetchRequests");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message||"Something went wrong.";case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},handleError:function(){this.error=null}},computed:{receivedRequests:function(){return this.$store.getters["requests/requests"]},hasRequests:function(){return this.$store.getters["requests/hasRequests"]}},created:function(){this.loadRequests()}};n("2904");ue.render=ae,ue.__scopeId="data-v-1cae0a50";var de=ue,le=Object(r["J"])("data-v-856e7290");Object(r["u"])("data-v-856e7290");var he={class:"form-control"},fe=Object(r["h"])("label",{for:"email"},"E-mail",-1),be={class:"form-control"},pe=Object(r["h"])("label",{for:"password"},"Password",-1),Oe={key:0};Object(r["s"])();var je=le((function(e,t,n,a,c,o){var i=Object(r["z"])("base-dialog"),s=Object(r["z"])("base-spinner"),u=Object(r["z"])("base-button"),d=Object(r["z"])("base-card");return Object(r["r"])(),Object(r["e"])("div",null,[Object(r["h"])(i,{show:!!c.error,title:"Error Condition",onClose:o.handleError},{default:le((function(){return[Object(r["h"])("p",null,Object(r["B"])(c.error),1)]})),_:1},8,["show","onClose"]),Object(r["h"])(i,{show:c.isLoading,title:"Authenticating",fixed:""},{default:le((function(){return[Object(r["h"])(s)]})),_:1},8,["show"]),Object(r["h"])(d,null,{default:le((function(){return[Object(r["h"])("form",{onSubmit:t[3]||(t[3]=Object(r["I"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(r["h"])("div",he,[fe,Object(r["H"])(Object(r["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e})},null,512),[[r["E"],c.email,void 0,{trim:!0}]])]),Object(r["h"])("div",be,[pe,Object(r["H"])(Object(r["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e})},null,512),[[r["E"],c.password,void 0,{trim:!0}]])]),c.formIsValid?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])("p",Oe,"Please enter a valid email and password combination.")),Object(r["h"])(u,null,{default:le((function(){return[Object(r["g"])(Object(r["B"])(o.submitButtonCaption),1)]})),_:1}),Object(r["h"])(u,{type:"button",mode:"flat",onClick:o.switchAuthMode},{default:le((function(){return[Object(r["g"])(Object(r["B"])(o.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])})),me={data:function(){return{email:"",password:"",formIsValid:!0,mode:"signin",isLoading:!1,error:null}},methods:{submitForm:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formIsValid=!0,""!==e.email&&e.email.includes("@")&&!(e.password.length<6)){t.next=4;break}return e.formIsValid=!1,t.abrupt("return");case 4:if(e.isLoading=!0,n={email:e.email,password:e.password},t.prev=6,"signin"!==e.mode){t.next=12;break}return t.next=10,e.$store.dispatch("signin",n);case 10:t.next=14;break;case 12:return t.next=14,e.$store.dispatch("signup",n);case 14:r="/"+(e.$route.query.redirect||"coaches"),e.$router.replace(r),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](6),e.error=t.t0.message||"The authentication process failed.";case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[6,18]])})))()},switchAuthMode:function(){"signin"===this.mode?this.mode="signup":this.mode="signin"},handleError:function(){this.error=null}},computed:{submitButtonCaption:function(){return"signin"===this.mode?"Sign In":"Sign Up"},switchModeButtonCaption:function(){return"signin"===this.mode?"Sign Up":"Sign In"}}};n("aab4");me.render=je,me.__scopeId="data-v-856e7290";var ge=me,ve=Object(r["h"])("h2",null,"Page not found",-1),ke=Object(r["g"])(" The page you are looking for could not be found. Please try the "),we=Object(r["g"])("coaches"),ye=Object(r["g"])(" link. ");function Ie(e,t,n,a,c,o){var i=Object(r["z"])("router-link"),s=Object(r["z"])("base-card");return Object(r["r"])(),Object(r["e"])("section",null,[Object(r["h"])(s,null,{default:Object(r["G"])((function(){return[ve,Object(r["h"])("p",null,[ke,Object(r["h"])(i,{to:"/coaches"},{default:Object(r["G"])((function(){return[we]})),_:1}),ye])]})),_:1})])}var Ce={};Ce.render=Ie;var Se,xe=Ce,_e=n("5502"),Re=(n("0d03"),{registerCoach:function(e,t){e.coaches.push(t)},setCoaches:function(e,t){e.coaches=t},setFetchTimestamp:function(e){e.lastFetch=(new Date).getTime()}}),qe=(n("a4d3"),n("e01a"),{registerCoach:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.rootGetters.userId,a={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},c=e.rootGetters.token,n.next=5,fetch("https://find-a-coach-mo-default-rtdb.europe-west1.firebasedatabase.app/coaches/".concat(r,".json?auth=")+c,{method:"PUT",body:JSON.stringify(a)});case 5:o=n.sent,o.ok,e.commit("registerCoach",Object(Q["a"])(Object(Q["a"])({},a),{},{id:r}));case 8:case"end":return n.stop()}}),n)})))()},loadCoaches:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.forceRefresh||e.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("https://find-a-coach-mo-default-rtdb.europe-west1.firebasedatabase.app/coaches.json");case 4:return r=n.sent,n.next=7,r.json();case 7:if(a=n.sent,r.ok){n.next=11;break}throw c=new Error(a.message||"Fetch operation failed."),c;case 11:for(i in o=[],a)s={id:i,firstName:a[i].firstName,lastName:a[i].lastName,description:a[i].description,hourlyRate:a[i].hourlyRate,areas:a[i].areas},o.push(s);e.commit("setCoaches",o),e.commit("setFetchTimestamp");case 15:case"end":return n.stop()}}),n)})))()}}),Fe=(n("45fc"),{coaches:function(e){return e.coaches},hasCoaches:function(e){return e.coaches&&e.coaches.length>0},isCoach:function(e,t,n,r){var a=t.coaches,c=r.userId;return a.some((function(e){return e.id===c}))},shouldUpdate:function(e){var t=e.lastFetch;if(!t)return!0;var n=(new Date).getTime();return(n-t)/1e3>60}}),Ee={namespaced:!0,state:function(){return{lastFetch:null,coaches:[{id:"c1",firstName:"Max",lastName:"Schwartz",areas:["frontend","backend","career"],description:"I'm Max and I've worked as a freelance web developer for years. Let me help you become a developer as well!",hourlyRate:30},{id:"c2",firstName:"Michael",lastName:"Owuor",areas:["frontend","career"],description:"I am Michael and as a senior developer in a big tech company, I can help you get your first job or progress in your current role.",hourlyRate:30}]}},mutations:Re,actions:qe,getters:Fe},Ae={addRequest:function(e,t){e.requests.push(t)},setRequests:function(e,t){e.requests=t}},Ne=(n("b0c0"),{contactCoach:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={userEmail:t.email,message:t.message},n.next=3,fetch("https://find-a-coach-mo-default-rtdb.europe-west1.firebasedatabase.app/requests/".concat(t.coachId,".json"),{method:"POST",body:JSON.stringify(r)});case 3:return a=n.sent,n.next=6,a.json();case 6:if(c=n.sent,a.ok){n.next=10;break}throw o=new Error(c.message||"Fetch operation failed."),o;case 10:r.id=c.name,r.coachId=t.coachId,e.commit("addRequest",r);case 13:case"end":return n.stop()}}),n)})))()},fetchRequests:function(e){return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c,o,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootGetters.userId,r=e.rootGetters.token,t.next=4,fetch("https://find-a-coach-mo-default-rtdb.europe-west1.firebasedatabase.app/requests/".concat(n,".json?auth=")+r);case 4:return a=t.sent,t.next=7,a.json();case 7:if(c=t.sent,a.ok){t.next=11;break}throw o=new Error(c.message||"Fetch operation failed."),o;case 11:for(s in i=[],c)u={id:s,coachId:n,userEmail:c[s].userEmail,message:c[s].message},i.push(u);e.commit("setRequests",i);case 14:case"end":return t.stop()}}),t)})))()}}),ze={requests:function(e,t,n,r){var a=r.userId;return e.requests.filter((function(e){return e.coachId===a}))},hasRequests:function(e,t){return t.requests&&t.requests.length>0}},Le={namespaced:!0,state:function(){return{requests:[]}},mutations:Ae,actions:Ne,getters:ze},Te={setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.verifiedAutoSignout=!1},setAutoSignout:function(e){e.verifiedAutoSignout=!0}},$e=(n("4795"),{signin:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",Object(Q["a"])(Object(Q["a"])({},t),{},{mode:"signin"})));case 1:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",Object(Q["a"])(Object(Q["a"])({},t),{},{mode:"signup"})));case 1:case"end":return n.stop()}}),n)})))()},auth:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o,i,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.mode,a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC3Ge6zVNJGu7F7x4gs0JNwa9sAhkCwVtQ","signup"===r&&(a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC3Ge6zVNJGu7F7x4gs0JNwa9sAhkCwVtQ"),n.next=5,fetch(a,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})});case 5:return c=n.sent,n.next=8,c.json();case 8:if(o=n.sent,c.ok){n.next=12;break}throw i=new Error(o.message||"Failed to authenticate."),i;case 12:s=1e3*+o.expiresIn,u=(new Date).getTime()+s,localStorage.setItem("token",o.idToken),localStorage.setItem("userId",o.localId),localStorage.setItem("tokenExpiration",u),Se=setTimeout((function(){e.dispatch("autoSignout")}),s),e.commit("setUser",{token:o.idToken,userId:o.localId});case 19:case"end":return n.stop()}}),n)})))()},autoSignin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=localStorage.getItem("tokenExpiration"),a=+r-(new Date).getTime();a<0||(Se=setTimeout((function(){e.dispatch("autoSignout")}),a),t&&n&&e.commit("setUser",{token:t,userId:n}))},autoSignout:function(e){e.dispatch("signout"),e.commit("setAutoSignout")},signout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(Se),e.commit("setUser",{token:null,userId:null})}}),Be={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},verifiedAutoSignout:function(e){return e.verifiedAutoSignout}},Je={state:function(){return{userId:null,token:null,verifiedAutoSignout:!1}},mutations:Te,actions:$e,getters:Be},Pe=Object(_e["a"])({modules:{coaches:Ee,requests:Le,auth:Je}}),Ue=Pe,Me=Object(r["i"])((function(){return n.e("chunk-3fbcdb4e").then(n.bind(null,"591c"))})),Ve=Object(r["i"])((function(){return n.e("chunk-533f0165").then(n.bind(null,"f7b3"))})),Ge=Object(r["i"])((function(){return n.e("chunk-d9004914").then(n.bind(null,"a980"))})),De=Object(g["a"])({history:Object(g["b"])(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:X},{path:"/coaches/:id",component:Me,props:!0,children:[{path:"contact",component:Ge}]},{path:"/register",component:Ve,meta:{requiresAuth:!0}},{path:"/requests",component:de,meta:{requiresAuth:!0}},{path:"/auth",component:ge,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:xe}]});De.beforeEach((function(e,t,n){e.meta.requiresAuth&&!Ue.getters.isAuthenticated?n("/auth"):e.meta.requiresUnauth&&Ue.getters.isAuthenticated?n("/coaches"):n()}));var He=De,Qe=n("256c"),Ke=n("dfa6"),We=Object(r["J"])("data-v-5147169a");Object(r["u"])("data-v-5147169a");var Ye={class:"spinner"},Xe=Object(r["h"])("div",{class:"lds-roller"},[Object(r["h"])("div"),Object(r["h"])("div"),Object(r["h"])("div"),Object(r["h"])("div"),Object(r["h"])("div"),Object(r["h"])("div"),Object(r["h"])("div"),Object(r["h"])("div")],-1);Object(r["s"])();var Ze=We((function(e,t){return Object(r["r"])(),Object(r["e"])("div",Ye,[Xe])}));n("3ec8");const et={};et.render=Ze,et.__scopeId="data-v-5147169a";var tt=et,nt=Object(r["i"])((function(){return n.e("chunk-13a1f17a").then(n.bind(null,"ae92"))})),rt=Object(r["d"])(m);rt.use(He),rt.use(Ue),rt.component("base-card",Qe["a"]),rt.component("base-button",Ke["a"]),rt.component("base-badge",z["a"]),rt.component("base-spinner",tt),rt.component("base-dialog",nt),rt.mount("#app")},"5a85":function(e,t,n){},"6f9c":function(e,t,n){},7473:function(e,t,n){},"8f92":function(e,t,n){"use strict";n("1a2f")},aab4:function(e,t,n){"use strict";n("1f1c")},aad2:function(e,t,n){"use strict";n("7473")},ac19:function(e,t,n){},adfa:function(e,t,n){"use strict";n("4d68")},c1ea:function(e,t,n){"use strict";n("6f9c")},c6bc:function(e,t,n){},cf1f:function(e,t,n){},d6e9:function(e,t,n){"use strict";n("c6bc")},de99:function(e,t,n){},dfa6:function(e,t,n){"use strict";n("9911");var r=n("7a23"),a=Object(r["J"])("data-v-64d598f2"),c=a((function(e,t,n,c,o,i){var s=Object(r["z"])("router-link");return n.link?(Object(r["r"])(),Object(r["e"])(s,{key:1,to:n.to,class:n.mode},{default:a((function(){return[Object(r["y"])(e.$slots,"default")]})),_:3},8,["to","class"])):(Object(r["r"])(),Object(r["e"])("button",{key:0,class:n.mode},[Object(r["y"])(e.$slots,"default")],2))})),o={props:{link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"},mode:{type:String,required:!1,default:null}}};n("0cbe");o.render=c,o.__scopeId="data-v-64d598f2";t["a"]=o},e7f5:function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["J"])("data-v-3bcb66e1"),c=a((function(e,t,n,a,c,o){return Object(r["r"])(),Object(r["e"])("span",{class:["badge",n.type]},Object(r["B"])(o.text),3)})),o={props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}};n("8f92");o.render=c,o.__scopeId="data-v-3bcb66e1";t["a"]=o}});
//# sourceMappingURL=app.6f9cccaa.js.map